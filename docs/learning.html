<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Learning</title>

<script src="site_libs/header-attrs-2.21/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
  <link rel="icon" type="image/png" href="favicon.ico"/>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>






<link rel="stylesheet" href="style.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Module B Team Pages</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Team Info
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="organisation.html">Organisation</a>
    </li>
    <li>
      <a href="sprint.html">Sprint Timings</a>
    </li>
    <li>
      <a href="meetings.html">Meeting Etiquette</a>
    </li>
    <li>
      <a href="glossary.html">Acronyms</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    How to...
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="setup.html">...set up Github</a>
    </li>
    <li>
      <a href="edit.html">...edit Github code</a>
    </li>
    <li>
      <a href="requests.html">...pull request</a>
    </li>
    <li>
      <a href="review.html">...code review</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Coding
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="sce.html">Coding Environment</a>
    </li>
    <li>
      <a href="standards.html">Coding Standards</a>
    </li>
    <li>
      <a href="learning.html">Learning</a>
    </li>
  </ul>
</li>
<li>
  <a href="links.html">Useful Links</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Learning</h1>

</div>


<p>Here are a number of resources you can use to help improve your
coding:</p>
<ul>
<li><a
href="https://defra.sharepoint.com/sites/Community448/SitePages/Events.aspx">Defra’s
monthly data science sessions</a></li>
<li><a
href="https://forms.office.com/pages/responsepage.aspx?id=BXCsy8EC60O0l-ZJLRst2KUXyeG5QzlKhk--pMPwnKxURTJXTTFZVjVQSFA2SE1ZSVNKRDE3NzBYTy4u">BEIS’s
weekly Coffee and Coding sessions</a></li>
<li><a href="https://www.datacamp.com/">DataCamp</a> (Defra has
unlimited DataCamp licenses, so anyone in Defra can sign up for a pro
account)</li>
</ul>
<div id="ons-guidance" class="section level1">
<h1>ONS Guidance</h1>
<p>Generally, the <a
href="https://best-practice-and-impact.github.io/qa-of-code-guidance/intro.html">Duck
Book</a> should inform how we work.</p>
<p>The book’s guidance is embedded in these pages but here are some
important points to peruse:</p>
<div id="theory" class="section level3">
<h3>Theory</h3>
<ul>
<li>The three pillars of rigourous analysis…
<ul>
<li>Reproducible analysis: “the same analysis steps performed on the
same dataset consistently produces the same result”</li>
<li>Auditable analysis: “analysis and supporting evidence are available
for scrutiny”</li>
<li>Assured analysis: “analysis has passed through a systematic process
that established it as fit for purpose”</li>
</ul></li>
<li>On good coding practice…
<ul>
<li>Despite the initial cost of developing technical skills,
<strong>evidence shows that applying good practices increases the
efficiency of code development and maintainability of the code</strong>.
There are number of case studies that describe how good quality
assurance practices have improved government analysis.</li>
<li>Not following good practices creates technical debt, which slows
down further development of the analysis. This can be necessary for
delivering to short deadlines, but time should be set aside to address
this for continued development of the analysis.</li>
</ul></li>
</ul>
</div>
<div id="practice" class="section level3">
<h3>Practice</h3>
<ul>
<li>On documentation…
<ul>
<li>Pipelines should be well documented, and that <strong>documentation
should be embedded in our code</strong>. This makes collaboration
easier, as well as allowing for easier auditing and assurance. When
documentation exists alongside the code, it is more likely to be kept up
to date than if it is spread out across different systems. Having the
documentation as part of the code means we have a single source of the
truth.</li>
<li>Every function should be documented in the code, so that it is clear
what the function is supposed to do. Function documentation should
include what goes in and what comes out of each function.</li>
<li>Assumptions and caveats of the analysis should be recorded close to
the code.</li>
<li>When working on a collaborative or open coding project, it’s good
practice to describe an overview of your project in a README file. This
allows users or developers to grasp the overall goal of your
project.</li>
<li>Note: could include specification diagram like in QA log
“map/pseudocode”</li>
</ul></li>
<li>On modularity…
<ul>
<li>This means breaking your code down into self-contained elements, for
example [subscripts], classes, and functions. <strong>Functions are the
lowest level of our code. They should do one thing and do it well.
[Subscripts] are collections of related functions. We can run our
pipeline from a high level script that calls in functions from our
[subscripts].</strong></li>
<li>Note: have substituted ‘subscripts’ for modules to avoid confusion
with ‘module B’.</li>
<li>Logic should be written as functions, so that it can be reused
consistently and tested. Related functions should be grouped together in
the same file, so that it is easy to find them. Logic with different
responsibilities (e.g. reading data versus transforming data) should be
clearly separated.</li>
<li>Note: running scripts in this way ensures your code is executed
reproducibly</li>
</ul></li>
<li>On QA…
<ul>
<li>We should automate the aspects of quality assurance that are
challenging for humans. This frees up time and makes it easier to keep a
record of what QA has been performed. The purpose of this automation is
not to get rid of analysts, but to allow analysts to focus on the QA
that computers cannot easily do. For example, analysts are much better
at ensuring that the analysis is fit for purpose.<br />
</li>
<li>As described by the Aqua book, the <strong>quality assurance of our
analysis should be proportional to the complexity and risk of the
analysis</strong>.</li>
<li>Where quality assurance of the code doesn’t meet your target level
of assurance, for example where there is limited time or skill, then it
is necessary to supplement this with more in-depth assurance of outputs.
This might include dual running the analysis with an independent system
and consistency checks across the output data.</li>
</ul></li>
<li>On Agile working…
<ul>
<li><strong>In Agile, working software is considered the primary measure
of success.</strong> This means that we don’t spend months creating
detailed plans and documenting specifications. Instead, we prioritise
early and continuous delivery of working software.</li>
</ul></li>
<li>On data…
<ul>
<li><strong>You should not alter raw data</strong> - treat it as
read-only. Even data cleaning should take place on a copy of the raw
data, so that you can document which cleaning decisions have been made.
There must be an immutable store for raw data in your project
structure.</li>
</ul></li>
<li>On version control…
<ul>
<li><strong>Commit small and often</strong></li>
<li>We should ’include code <strong>and documentation</strong> in
version control.</li>
</ul></li>
</ul>
</div>
<div id="for-the-future" class="section level3">
<h3>For the future</h3>
<ul>
<li>On unit testing…
<ul>
<li>In their simplest form, software tests run a part of the pipeline on
example data. They assert that the output data meets certain
expectations. If these expectations are not met, an error will be
raised. The analyst can then investigate what caused this error.
Modularising our code makes it much easier to check that it is working
as expected. For each important or complex function, we should write at
least one test.</li>
<li>Automated ‘unit’ testing should be applied to each function, to
ensure that code continues to work after future changes to the
code.</li>
<li>Each function and the end-to-end analysis should be tested using
minimal, realistic data.</li>
<li>Testing should be more extensive on the most important or complex
parts of the code. However, ideally every single function should be
tested.</li>
<li>Tests should account for realistic cases, which might include
missing data, zeroes, infinities, negative numbers, wrong data types,
and invalid inputs.</li>
<li>Each time an error is found in the code, a test should be added to
assure that the error does not reoccur.</li>
</ul></li>
<li>On developing models over time…
<ul>
<li>When repeating [or developing] analysis over time, you should
compare results between analyses. Large differences in the outcome of
the results may indicate an issue with the analysis process [and allow
you to identify differences and improvements].</li>
</ul></li>
<li>On error catching…
<ul>
<li>When code fails to run, it should provide informative error messages
to describe the problem.</li>
<li>Note: we haven’t thought about error catching but is linked to unit
tests.</li>
</ul></li>
<li>On reproducibility…
<ul>
<li>Code should not be dependent on a specific computer to run. Running
it on a colleague’s system can help to check this.</li>
<li>When the same analysis is run multiple times or on different systems
it should give reproducible outcomes.</li>
<li>Note: Munzer suggests <code>renv</code> to create a reproducible
environment. We may also need a configuration (config) file.</li>
</ul></li>
<li>On version control…
<ul>
<li>To reference specific points in project’s history, Git allows us to
create “tags”. These tags essentially act as an alias for a particular
commit hash, allowing us to refer to it by an informative label. In
analytical projects, we might use tags to mark a particular model
version or an important stage of our analysis.</li>
<li>Use Git hooks to encourage good practice</li>
<li>Note: Git hooks can be used to automatically run lintr, stylr and
unit tests</li>
</ul></li>
<li>On data…
<ul>
<li>Large or complex datasets should be stored in a database. Databases
are collections of related data, which can be easily accessed and
managed.</li>
</ul></li>
</ul>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
